////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                //
//                            $$\       $$\                                  $$$$$$\              //
//                            $$ |      $$ |                                 $$  ___\             //
//   $$$$$$$\ $$\   $$\  $$$$$$$ | $$$$$$$ | $$$$$$\  $$$$$$$\      $$$$$$$\ $$ /     |$$$$$$\    //
//  $$  _____|$$ |  $$ |$$  __$$ |$$  __$$ |$$  __$$\ $$  __$$\    $$  _____|$$$$\    $$  __$$\   //
//  \$$$$$$\  $$ |  $$ |$$ /  $$ |$$ /  $$ |$$$$$$$$ |$$ |  $$ |   $$ /      $$  _|   $$ /  $$ |  //
//   \____$$\ $$ |  $$ |$$ |  $$ |$$ |  $$ |$$   ____|$$ |  $$ |   $$ |      $$ |     $$ |  $$ |  //
//  $$$$$$$  |\$$$$$$  |\$$$$$$$ |\$$$$$$$ |\$$$$$$$\ $$ |  $$ |$$\\$$$$$$$\ $$ |     \$$$$$$$ |  //
//  \_______/  \______/  \_______| \_______| \_______|\__|  \__|\__|\_______|\__|      \____$$ |  //
//                                                                                    $$\   $$ |  //
//                                 [ Suddendeath Teamplay Config ]                    \$$$$$$  |  //
//                                                                                     \______/   //               
                                      set .stp.version "0.9.0"                                   
//                                                                                                //
////////////////////////////////////////////////////////////////////////////////////////////////////

// TODO:
// - Fix or delete the alternative regexp for youtake with 2 matches
// - Make all aliases follow the same structure? set string -> tsay string?
// - Would that also eliminate the need for .tsay. aliases and instead maybe use .tsay$stpstyle.x directly?
// - Remove any uncessary strings
// - Add smart youtake for more maps
// - Add smart lost for more maps

////////////////////////////////////////////////////////////////////////////////////////////////////

unalias_re ^stp\_(.+)$
unalias_re ^\.stp.(.+)$
unalias_re ^\.tsay[1-2]{0,1}\.(.+)$
unset_re ^stp\_(.+)$
unset_re ^\.stp.(.+)$
unset_re ^\.c[wrgbmyuc][2-3]{0,1}$

alias .not          ""
alias .echo.re      "echo 0:$re_trigger_match_0 1:$re_trigger_match_1 2:$re_trigger_match_2"
alias .stp.unold    "unalias_re ^\.tsay\.(.+)$; unalias_re ^\_\.(.+)$; unalias_re ^stp\_(.+)$; unset_re ^stp\_(.+)$; unset_re ^\_\.(.+)$"

// stp_ Style
////////////////////////////////////////////////////////////////////////////////////////////////////
alias stp_setstyle      "set stpstyle %1; .stp.init.echo; .stp.nick.check"
alias stp_style         "if (%1 == 2) then stp_setstyle 2 else stp_setstyle 1"
alias .stp.init.echo    "echo &cff0$x80Sudden Teamplay Config $.stp.version (style: $stpstyle) loaded$x82&r"

// Add a warning if stp_style is 2 but colors are used in nick
alias .stp.nick.check   "if ($stpstyle == 2 AND '$nick' =~ '^(.*)\{&c[0-9a-f]{3}(.+)') then .stp.nick.warn else .not"
alias .stp.nick.warn    "echo &cfa1Warning:&r Your nick contains color codes which may not display correctly with stp_style $stpstyle. Consider changing your nick or switching to style 1 with 'stp_style 1' command."
// Say coming if no smart thing to say
set stp_smartcoming      "0"

if_exists cvar stpstyle .not "stp_style 1"

// tp_ Settings
////////////////////////////////////////////////////////////////////////////////////////////////////
// Item can be: quad, pent, ring, suit, ra, ya, ga, mh, health, lg, rl, gl, sng, ng, ssg, pack, cells, rockets, nails, shells, flag, teammate, enemy, eyes, sentry, disp, runes
tp_pointpriorities 0
tp_pickup powerups rl lg pack armor mh ssg sng gl cells
tp_point powerups ra rl lg pack ya ga enemy mh ssg sng gl rockets cells 
tp_took powerups rl lg pack armor mh ssg sng gl cells rockets

tp_need_weapon	    "87"
tp_need_health	    "50"
tp_need_ga		    "70"
tp_need_ya		    "70"
tp_need_ra		    "70"
tp_need_shells	    "0"
tp_need_nails	    "0"
tp_need_cells	    "6"
tp_need_rockets     "3"


// tp_ Names
////////////////////////////////////////////////////////////////////////////////////////////////////
tp_name_teammate            "" // shows name of player
tp_name_enemy               "{&cf00enemy&cfff}"
tp_name_gl                  "{&c299gl&cfff}"
tp_name_rlg                 "{&cf31r&cfff}{&c29flg&cfff}"
tp_name_rl                  "{&cf31rl&cfff}"
tp_name_lg                  "{&c29flg&cfff}"
tp_name_ga                  "{&c0b0ga&cfff}"
tp_name_ya                  "{&cff0ya&cfff}"
tp_name_ra                  "{&ce00ra&cfff}"
tp_name_armortype_ga        "{&c693g&cfff}"
tp_name_armortype_ya        "{&c991y&cfff}"
tp_name_armortype_ra        "{&c911r&cfff}"
tp_name_rockets             "rox"
tp_name_cells               "cells"
tp_name_quad                "{&c05fquad&cfff}"
tp_name_pent                "{&cf00pent&cfff}"
tp_name_ring                "{&cff0ring&cfff}"
tp_name_mh                  "{&c0ffmega&cfff}"
tp_name_backpack            "{&cf2apack&r}"
tp_name_eyes                "{&cff0eyes&cfff}"
tp_name_quaded              "{&c05fquaded&cfff}"
tp_name_pented              "{&cf00pented&cfff}"
tp_name_someplace           " "
tp_name_at                  "{&c999at&r}"
tp_name_nothing             " "
tp_name_none                ""
tp_name_separator           "$x20"


// Colors
////////////////////////////////////////////////////////////////////////////////////////////////////
set_tp .cw                  "&cfff"
set_tp .cw2                 "&caaa"
set_tp .cw3                 "&c666"
set_tp .cr                  "&cf00"
set_tp .cr2                 "&cf55"
set_tp .cr3                 "&cf99"
set_tp .cg                  "&c0f0"
set_tp .cg2                 "&c5f5"
set_tp .cg3                 "&c9f9"
set_tp .cb                  "&c05f"
set_tp .cb2                 "&c66f"
set_tp .cb3                 "&c99f"
set_tp .cm                  "&cf0f"
set_tp .cm2                 "&cf5f"
set_tp .cm3                 "&cf9f"
set_tp .cc                  "&c0ff"
set_tp .cc2                 "&c5ff"
set_tp .cc3                 "&c9ff"
set_tp .cy                  "&cff0"  
set_tp .cy2                 "&cff5"
set_tp .cy3                 "&cff9"
set_tp .cu                  "&cfa1"
set_tp .cu2                 "&cfa6"
set_tp .cu3                 "&cfa9"


// Variables
////////////////////////////////////////////////////////////////////////////////////////////////////
set_tp .stp.name.q          "{&c05fq&cfff}"
set_tp .stp.name.p          "{&cf00p&cfff}"
set_tp .stp.name.r          "r"
set_tp .stp.name.rl         "rl"
set_tp .stp.name.lg         "lg"

set_tp .stp.s.weapon        ""
set_tp .stp.s.ammo          ""
set_tp .stp.s.health        ""
set_tp .stp.s.armor         ""
set_tp .stp.s.powerups      ""
set_tp .stp.s.took          ""
set_tp .stp.s.killme        ""
set_tp .stp.s.dropped       ""
set_tp .stp.s.need          ""
set_tp .stp.s.youtake       ""
set_tp .stp.s.wpkilled      ""
set_tp .stp.s.rlg           ""
set_tp .stp.s.rlgc          ""    


set_tp powerful 0
set_tp stacked 0

// Aliases
////////////////////////////////////////////////////////////////////////////////////////////////////
alias app_tp                    "if ('$%1' == '') then set_tp %1 $%1%2 else set_tp %1 $%1$x20%2"
alias app_tp_nosp               "set_tp %1 $%1%2"  

// checks - check attributes and set strings with data
alias .stp.check.all            ".stp.check.power; .stp.check.stack; .stp.check.pu; .stp.check.weapons; .stp.check.ammo; .stp.check.need"

alias .stp.check.power          "if ('$bestweapon' isin '$tp_name_rl $tp_name_lg' OR '$powerups' != '') then set_tp powerful 1 else set_tp powerful 0; wait"
alias .stp.check.stack          "if (($armor > 50 AND $health > 100) OR ($armor >= 100)) then set_tp stacked 1 else set_tp stacked 0; wait; .stp.check.armor; wait; .stp.check.health"

alias .stp.check.pu             "set_tp .stp.s.powerups $qt$qt; if ('$powerups' = '') then .not else .stp.pu"
alias .stp.pu                   "if ('$tp_name_quad' isin '$powerups' AND '$tp_name_pent' isin '$powerups' AND '$tp_name_ring' isin '$powerups') then .stp.pu.all else if ('$tp_name_quad' isin '$powerups' AND '$tp_name_pent' isin '$powerups') then .stp.pu.quadpent else if ('$tp_name_quad' isin '$powerups' AND '$tp_name_ring' isin '$powerups') then .stp.pu.quadring else if ('$tp_name_ring' isin '$powerups' AND '$tp_name_pent' isin '$powerups') then .stp.pu.pentring else .stp.pu.single"
alias .stp.pu.all               "set_tp .stp.s.powerups $.stp.name.q$.stp.name.p$tp_name_ring"
alias .stp.pu.quadpent          "set_tp .stp.s.powerups $.stp.name.q$tp_name_pent"
alias .stp.pu.quadring          "set_tp .stp.s.powerups $.stp.name.q$tp_name_ring"
alias .stp.pu.pentring          "set_tp .stp.s.powerups $.stp.name.p$tp_name_ring"
alias .stp.pu.single            "set_tp .stp.s.powerups $powerups"

alias .stp.check.armor          "set_tp .stp.s.armor $qt$qt; if ('$tp_name_armor' isin '$need') then .stp.armor.need else .stp.armor.normal"
alias .stp.armor.need           "if ($powerful > 0) then app_tp .stp.s.armor %A{&cf66%a&r} else .stp.armor.normal"
alias .stp.armor.normal         "app_tp .stp.s.armor %A{&cfff%a&r}"

alias .stp.check.health         "set_tp .stp.s.health $qt$qt; if ('$tp_name_health' isin '$need') then .stp.health.need else if ($health > 100) then .stp.health.stacked else .stp.health.normal"
alias .stp.health.need          "if ($powerful > 0) then app_tp .stp.s.health {&cf66%h&r} else .stp.health.normal"
//alias .stp.health.stacked     "app_tp .stp.s.health {&cafa%h&r}"
alias .stp.health.stacked       ".stp.health.normal"
alias .stp.health.normal        "app_tp .stp.s.health {&cfff%h&r}"

alias .stp.check.weapons        "set_tp .stp.s.weapon $qt $qt; set_tp .stp.s.rlg $qt$qt; .stp.check.rlg; if ('$tp_name_rl' isin '$weapons' AND '$tp_name_lg' isin '$weapons') then .stp.has.weapon.both   else if ('$tp_name_rl' isin '$weapons') then .stp.has.weapon.rl else if ('$tp_name_lg' isin '$weapons') then .stp.has.weapon.lg else .stp.has.weapon.weak"
alias .stp.check.ammo           "set_tp .stp.s.ammo $qt$qt; if ($rockets > 0 AND $powerful = 0) then app_tp .stp.s.ammo rox:{$rockets} else .not; wait; if ($cells > 0 AND $powerful = 0) then app_tp .stp.s.ammo c:{$cells}"
alias .stp.has.weapon.both      ".stp.has.weapon.rl; wait; .stp.has.weapon.lg" 

alias .stp.has.weapon.rl        "if ($rockets <= $tp_need_rockets) then app_tp .stp.s.weapon $tp_name_rl{&cf66:$rockets&r} else app_tp .stp.s.weapon $tp_name_rl{&cf31:$rockets&cfff}"
alias .stp.has.weapon.lg        "if ($cells <= $tp_need_cells) then app_tp .stp.s.weapon $tp_name_lg{&cf66:$cells&r} else app_tp .stp.s.weapon $tp_name_lg{&c29f:$cells&r}"
alias .stp.has.weapon.weak      "app_tp .stp.s.weapon $bestweapon"
//alias .stp.has.weapon.no      "set_tp .stp.s.weapon $qt$qt"
alias .stp.check.rlg            "set_tp .stp.s.rlg $qt$qt; set_tp .stp.s.rlgc $qt$qt; if ('$tp_name_rl' isin '$weapons' AND '$tp_name_lg' isin '$weapons') then .stp.has.rlg.both else if ('$tp_name_rl' isin '$weapons') then .stp.has.rlg.rl else if ('$tp_name_lg' isin '$weapons') then .stp.has.rlg.lg"
alias .stp.has.rlg.both         "set_tp .stp.s.rlg rlg; set_tp .stp.s.rlgc $tp_name_rlg"
alias .stp.has.rlg.rl           "set_tp .stp.s.rlg rl; set_tp .stp.s.rlgc $tp_name_rl"
alias .stp.has.rlg.lg           "set_tp .stp.s.rlg lg; set_tp .stp.s.rlgc $tp_name_lg"

alias .stp.check.need           "set_tp .stp.s.need $qt$qt; if ('$matchtype' == '2on2') then .stp.need.2on2 else .stp.need.4on4; wait; .stp.need.any"
alias .stp.need.2on2            ""
alias .stp.need.4on4            ".stp.need.ammo"
alias .stp.need.armor           "if ('$tp_name_weapon' !isin '$need' AND '$tp_name_armor' isin '$need' AND $armor < 999) then app_tp .stp.s.need $tp_name_armor else .not"
alias .stp.need.health          "if ('$tp_name_weapon' !isin '$need' AND '$tp_name_health' isin '$need') then app_tp .stp.s.need $tp_name_health else .not"
alias .stp.need.ammo            "if ('$tp_name_rl' isin '$weapons' AND '$tp_name_lg' isin '$weapons') then .stp.need.ammo.rlg else if ('$tp_name_rl' isin '$weapons') then .stp.need.ammo.rl else if ('$tp_name_lg' isin '$weapons') then .stp.need.ammo.lg else .not"
alias .stp.need.ammo.rl         "if ($rockets < $tp_need_rockets) then app_tp .stp.s.need rox"
alias .stp.need.ammo.lg         "if ($cells < $tp_need_cells) then app_tp .stp.s.need cells"
alias .stp.need.ammo.rlg        "if ($rockets < $tp_need_rockets AND $cells < $tp_need_cells) then app_tp .stp.s.need rox/cells"
alias .stp.need.weapon          "if (($powerful > 0 OR $stacked > 0) AND '$bestweapon' !isin '$tp_name_rl $tp_name_lg') then app_tp .stp.s.need weapon else .not"
alias .stp.need.any             "if ('$.stp.s.need' != '') then set_tp .stp.s.need need$x20$.stp.s.need"

// report
alias .stp.report               ".stp.check.all"

// point
alias .stp.point                "if_exists alias shownick .stp.shownick1 .not; if ('$point' != '$tp_name_nothing') then .tsay.point"
alias .stp.shownick1            "shownick 1"

// took
alias .stp.took                 "if ('$took' == '$tp_name_nothing') then .not else if ('$took' isin '$tp_name_ring $tp_name_pent $tp_name_quad') then .stp.team.powerup else if ('$took' isin '$tp_name_backpack $bestweapon' AND $health < 1) then .stp.took.died else if ('$took' isin '$tp_name_rl $tp_name_lg' AND '$bestweapon' !isin '$tp_name_rl $tp_name_lg') then .stp.took.died else if ('$tp_name_backpack' == '$took') then .stp.took.pack else .stp.took.any"
alias .stp.took.pack            "if ('$bestweapon' isin '$tp_name_rl $tp_name_lg') then .stp.took.any else .tsay.took.nopack"
alias .stp.took.died            ".tsay.took.died"
alias .stp.took.any             ".tsay.took.any"

// team quad/ring/pent
alias .stp.team.powerup         "if ('$powerups' == '') then .tsay.quad.over else .tsay.team.powerup"

// kill me
alias .stp.killme               "set_tp .stp.s.killme $qt$qt; .stp.check.stack; wait; if ('$bestweapon' == '$tp_name_rl') then .stp.killme.rl else if ('$bestweapon' == '$tp_name_lg') then .stp.killme.lg else .stp.killme.ammo"
alias .stp.killme.rl            "app_tp .stp.s.killme $tp_name_rl{&cf31:$rockets&r} else .not"
alias .stp.killme.lg            "app_tp .stp.s.killme $tp_name_lg{&c29f:$cells&r} else .not"
alias .stp.killme.ammo          "if ($rockets < 1 AND $cells < 1) then .not else if ($rockets > 0) then app_tp .stp.s.killme {&cfa6$tp_name_rockets:$rockets&r} else .not; if ($cells > 0) then app_tp .stp.s.killme {&c6af$tp_name_cells:$cells&r} else .not"

// lost
alias .stp.lost                 "set_tp .stp.s.dropped $qt$qt; if ($health < 1 AND '$weapon' == '$tp_name_rl') then .stp.lost.rl else if ($health < 1 AND '$weapon' == '$tp_name_lg') then .stp.lost.lg else .stp.lost.nothing"
alias .stp.lost.rl              "app_tp .stp.s.dropped {&cf31rl-pack&r}; wait; .tsay.lost.weapon"
alias .stp.lost.lg              "app_tp .stp.s.dropped {&c29flg-pack:$cells&r}; wait; .tsay.lost.weapon"
alias .stp.lost.nothing         "app_tp .stp.s.dropped {$.cr2%E&r}; wait; .tsay.lost"
alias .stp.lost.pack            "if ($health < 1 AND '$bestweapon' isin '$tp_name_rl $tp_name_lg') then .stp.lost else .tsay.lost.pack"

// you take - transform this item location to something more generic?
alias .stp.youtake              "set_tp .stp.s.youtake $d; if ('$point' !isin '$tp_name_nothing $tp_name_backpack') then .stp.youtake.point else .stp.youtake.regexp"
alias .stp.youtake.point        "set_tp .stp.s.youtake $point"  
alias .stp.youtake.regexp       "if ('$location' =~ '^(quad|pent|ring|rl|lg|ra|ya|mega)$') then .stp.youtake.item else if ('$location' =~ '-?(quad|pent|ring|rl|lg|ra|ya|mega)-?') then .stp.youtake.item else if ('$mapname' == 'dm3') then .stp.youtake.dm3 else if ('$mapname' == 'dm2') then .stp.youtake.dm2 else if ('$mapname' == 'e1m2') then .stp.youtake.e1m2"
alias .stp.youtake.item         ".stp.youtake.tp $re_trigger_match_1"
alias .stp.youtake.dm3          "if ('$location' =~ '^(sng\-ledge|hill)$') then .stp.youtake.tp mega else if ('$location' =~ '^(water)$') then .stp.youtake.tp lg"
alias .stp.youtake.dm2          "if ('$location' =~ '^(low\-stairs|low\-lift|low\-button)$') then .stp.youtake.tp rl else if ('$location' =~ '^(floating)$') then .stp.youtake.tp mh"
alias .stp.youtake.e1m2         "if ('$location' =~ '^([^\-]+)\-([^\-]+)$') then .stp.youtake.item.2 else if ('$location' =~ '^(bridge|bridge\-room)$') then .stp.youtake.tp ga"
alias .stp.youtake.tp           "set_tp .stp.s.youtake $tp_name_%1"

// CHECK IF_EXISTS TP_NAME_R1 eller R2, skulle kunna ersätta location check i regxp, location är bättre för man kanske inte vill säga SNG
//alias .stp.youtake.regexp2    "if ('$location' =~ '^([^\-]+)$') then .stp.youtake.item.2 else if ('$location' =~ '^([^\-]+)\-([^\-]+)$') then .stp.youtake.item.2"
//alias .stp.youtake.item.2     ".stp.youtake.item.2a $re_trigger_match_1 $re_trigger_match_2"         
//alias .stp.youtake.item.2a    "if ('$' !isin '$tp_name_%1') then .stp.youtake.tp %1 else if ('$' !isin '$tp_name_%2') then .stp.youtake.tp %2 else .stp.youtake.tp at"

// smart: trick/slip/coming
alias .stp.smart                "if ('$mapname' == 'dm3') then .stp.smart.dm3 else if ('$mapname' == 'dm2') then .stp.smart.dm2 else if ('$mapname' == 'e1m2') then .stp.smart.e1m2 else .not"
alias .stp.smart.dm3            "if ('$location' isin 'water water-lg water-gl water-rox water-tunnel' AND '$tp_name_lg' isin '$weapons') then .tsay.dm3.diss else if ('$location' isin 'quad hill ra-low ra-tunnel ring') then .tsay.going ra-tunnel else if ('$location' isin 'pent lifts lifts-below') then .tsay.going lifts else .stp.smart.nothing"
alias .stp.smart.dm2            "if ('$location' isin 'quad quad-low') then .tsay.dm2.trick else if ('$location' isin 'ng tele-entry tele') then .tsay.dm2.slipped else if ('$location' == 'big-stairs') then .tsay.dm2.rjump else if ('$location' == 'secret') then .tsay.dm2.secret else .stp.smart.nothing"
alias .stp.smart.e1m2           ".stp.smart.nothing"
alias .stp.smart.nothing        "if ($stp_smartcoming > 0) then .tsay.coming else .not"

// wp killed
alias .stp.wpkilled             "set_tp .stp.s.wpkilled $qt$qt; if ('$mapname' isin 'dm2 e1m2') then .stp.wpkilled.rl else .stp.wpkilled.rlg"
alias .stp.wpkilled.rl          "set_tp .stp.s.wpkilled rl"
alias .stp.wpkilled.rlg         "set_tp .stp.s.wpkilled rlg"

// STP_STYLE - Alias routing
////////////////////////////////////////////////////////////////////////////////////////////////////
alias .tsay.version         "say_team $\$nick {$.cystp version: &cfff$.stp.version (style: $stpstyle)&r}"
alias .tsay.report          ".tsay$stpstyle.report"
alias .tsay.point           ".tsay$stpstyle.point"

alias .tsay.took.any        ".tsay$stpstyle.took.any"
alias .tsay.took.nopack     ".tsay$stpstyle.took.nopack"
alias .tsay.took.died       ".tsay$stpstyle.took.died"
alias .tsay.you.take        ".tsay$stpstyle.you.take"

alias .tsay.quad.over       ".tsay$stpstyle.quad.over"
alias .tsay.team.powerup    ".tsay$stpstyle.team.powerup"

alias .tsay.enemy.quad      ".tsay$stpstyle.enemy.quad"
alias .tsay.enemy.pent      ".tsay$stpstyle.enemy.pent"
alias .tsay.enemy.ring      ".tsay$stpstyle.enemy.ring"

alias .tsay.get.quad        ".tsay$stpstyle.get.quad"
alias .tsay.get.pent        ".tsay$stpstyle.get.pent"

alias .tsay.killme          ".tsay$stpstyle.killme"

alias .tsay.lost            ".tsay$stpstyle.lost"
alias .tsay.lost.weapon     ".tsay$stpstyle.lost.weapon"
alias .tsay.lost.pack       ".tsay$stpstyle.lost.pack"
alias .tsay.safe            ".tsay$stpstyle.safe"
alias .tsay.help            ".tsay$stpstyle.help"
alias .tsay.replace         ".tsay$stpstyle.replace"
alias .tsay.coming          ".tsay$stpstyle.coming"
alias .tsay.going           ".tsay$stpstyle.going %1"
alias .tsay.status          ".tsay$stpstyle.status"

alias .tsay.dm2.trick       ".tsay$stpstyle.dm2.trick"
alias .tsay.dm2.slipped     ".tsay$stpstyle.dm2.slipped"
alias .tsay.dm2.rjump       ".tsay$stpstyle.dm2.rjump"
alias .tsay.dm2.secret      ".tsay$stpstyle.dm2.secret"
alias .tsay.dm3.diss        ".tsay$stpstyle.dm3.diss"

alias .tsay.weapon.killed   ".tsay$stpstyle.weapon.killed"

// STP_STYLE 1 - sd_tac improved
// colon after nick:
// rl always shows rockets
//
// Imrovements?
// ------------
// quad over, enemy quad behöver inte visa ditt nick?
// lost pack visar vilken typ av pack
// Visa RL/LG på Safe [done]
// Youtake med fler smarta locations: typ secret -> ra
// Youtake med prio på location över rox point? (dm2 HIGH-RL -> rl and not -> rox)
// Quad over helt blue
////////////////////////////////////////////////////////////////////////////////////////////////////
alias .tsay1.report         "say_team $\$nick $.stp.s.armor/$.stp.s.health$.stp.s.weapon $[{%l}$] $.stp.s.powerups $.stp.s.ammo$.stp.s.need"
alias .tsay1.point          "say_team $\$nick %x $tp_name_at $[{%y}$]"

alias .tsay1.took.any       "say_team $\$nick took $took $[{%Y}$]"
alias .tsay1.took.nopack    "say_team $\$nick took empty pack $[{%Y}$]"
alias .tsay1.took.died      "say_team $\$nick took $took but died $[{%Y}$]"
alias .tsay1.you.take       "say_team $\$nick you take $.stp.s.youtake $[{%l}$]"

alias .tsay1.quad.over       "say_team $\$nick $tp_name_quad over"
alias .tsay1.team.powerup    "say_team $\$nick {$.cgteam&r} $powerups"

alias .tsay1.enemy.quad      "say_team $\$nick $tp_name_enemy $tp_name_quad"
alias .tsay1.enemy.pent      "say_team $\$nick $tp_name_enemy $tp_name_pent"
alias .tsay1.enemy.ring      "say_team $\$nick $tp_name_enemy $tp_name_ring"

alias .tsay1.get.quad        "say_team $\$nick get $tp_name_quad"
alias .tsay1.get.pent        "say_team $\$nick get $tp_name_pent"

alias .tsay1.killme          "say_team $\$nick {$.cmkill me&r} $[{%l}$] $.stp.s.killme"

alias .tsay1.lost            "say_team $\$nick {$.crlost&r} $[{%d}$] {%E}"
alias .tsay1.lost.weapon     "say_team $\$nick {$.crdropped&r} $.stp.s.dropped $[{%d}$] {%E}"
alias .tsay1.lost.pack       "say_team $\$nick {$.crdropped&r} $tp_name_backpack $[{%d}$] {%E}"
alias .tsay1.safe            "say_team $\$nick {$.cgsafe&r} $[{%l}$] $.stp.s.rlg"
alias .tsay1.help            "say_team $\$nick {$.cyhelp&r} $[{%l}$]"
alias .tsay1.replace         "say_team $\$nick replace $[{%l}$]"
alias .tsay1.coming          "say_team $\$nick coming $[{%l}$] $.stp.s.need"
alias .tsay1.going           "say_team $\$nick {$.cmenemy going&r} $[{%1}$]"
alias .tsay1.status          "say_team $\$x20$x20{$.cwstatus/report!?&r}"

alias .tsay1.dm2.trick       "say_team $\$nick quad-jump $[{quad-low}$]"
alias .tsay1.dm2.slipped     "say_team $\$nick {$.cmenemy slipped&r} $[{tele}$]"
alias .tsay1.dm2.rjump       "say_team $\$nick coming rjump high $[{%l}$]"
alias .tsay1.dm2.secret      "say_team $\$nick do not enter $[{%l}$] %A%a/%h $.stp.s.rlg"
alias .tsay1.dm3.diss        "say_team $\$nick discharge warning! $[{%l}$] {&c29flg:$cells&r}"

alias .tsay1.weapon.killed   "say_team $\$nick {$.cc$.stp.s.wpkilled killed!&r} {\}{$.cc20&cfff}{/} $[{%l}$] "


// STP_STYLE 2 - Experimental color/layout
////////////////////////////////////////////////////////////////////////////////////////////////////
alias .tsay2.report          "say_team $\$nick $.stp.s.armor/$.stp.s.health$.stp.s.weapon $[{%l}$] $.stp.s.powerups {$.cw2$.stp.s.need}"
alias .tsay2.point           "say_team $\{&c1ff$d&r} %x $tp_name_at $[{%y}$]"

alias .tsay2.took.any        "say_team $\{$.cw$nick took&r} $took {$.cw3[$.cw2%Y$.cw3]&r}"
alias .tsay2.took.nopack     "say_team $\{$.cw$nick took $.cw2empty pack $.cw2[$.cw3%Y$.cw2]&r}"
alias .tsay2.took.died       "say_team $\{$.cw$nick took&r} $took {$.cw2but died&r}"
alias .tsay2.you.take        "say_team $\{$.cw$nick $.cwyou take $.cc$d&r} $.stp.s.youtake {$.cw3[$.cw%l$.cw3]&r}"

alias .tsay2.quad.over       "say_team $\$tp_name_quad {$.cbover&r}"
alias .tsay2.team.powerup    "say_team $\$nick $powerups"

alias .tsay2.enemy.quad      "say_team $\{$.cr2enemy&r} $tp_name_quad"
alias .tsay2.enemy.pent      "say_team $\{$.cr2enemy&r} $tp_name_pent"
alias .tsay2.enemy.ring      "say_team $\{$.cr2enemy&r} $tp_name_ring"

alias .tsay2.get.quad        "say_team $\{$.cb3get&r} $tp_name_quad"
alias .tsay2.get.pent        "say_team $\{$.cr3get&r} $tp_name_pent"

alias .tsay2.killme          "say_team $\$nick {$.cm2%hhp $.cmkill me!!&r} $.stp.s.killme $[{%l}$]"

alias .tsay2.lost            "say_team $\{$.cr$nick lost&r} {$.cr[$.cr2%d$.cr]&r} {$.cr2%E&r}"
alias .tsay2.lost.weapon     "say_team $\{$.cr$nick dropped&r} $.stp.s.dropped {$.cr[$.cw%d$.cr]&r} {$.cr2%E&r}"
alias .tsay2.lost.pack       "say_team $\{$.cr$nick dropped&r} $tp_name_backpack {$.cr[$.cw%d$.cr]&r} {$.cr2%E&r}"
alias .tsay2.safe            "say_team $\{$.cg$nick safe $.cg[$.cg2%l$.cg]&r} {$.cg3$.stp.s.rlg&r}"
alias .tsay2.help            "say_team $\{$.cy$nick help $.cy[$.cy2%l$.cy]&r} {$.cy3%a/%h&r}"
alias .tsay2.replace         "say_team $\{$.cc$nick replace $.cc[$.cc2%l$.cc]&r} {$.cc3$.stp.s.rlg&r}"
alias .tsay2.coming          "say_team $\{$.cu$nick&r} {$.cucoming $.cu2[$.cu3%l$.cu2]&r} {$.cw2$.stp.s.need}"
alias .tsay2.going           "say_team $\{$.cr2enemy going %1&r}"
alias .tsay2.status          "say_team $\$x20$x20{$.cwstatus/report!?&r}"

alias .tsay2.dm2.trick       "say_team $\{$.cc$nick trick $.cc2[$.cc3%l$.cc2]&r}"
alias .tsay2.dm2.slipped     "say_team $\{$.cr2enemy slipped&r}"
alias .tsay2.dm2.rjump       "say_team $\{$.cu$nick coming rjump high $.cu2[$.cu3%l$.cu2]&r}"
alias .tsay2.dm2.secret      "say_team $\{$.cu$nick do not enter $.cu2[$.cu3%l$.cu2]&r} %A{$.cu2%a/%h&r} $.stp.s.rlg"
alias .tsay2.dm3.diss        "say_team $\{$.cb$nick discharge warning! $.cb2[$.cb3%l$.cb2]&r} {&c29flg:$cells&r}"

alias .tsay2.weapon.killed   "say_team $\{$.cg$nickn weapon killed! $.cg2[$.cg3%l$.cg2]&r} {\}{&c0ff0&cfff}{/}"

alias echo_tecken50         "echo 50:$x50 51:$x51 52:$x52 53:$x53 54:$x54 55:$x55 56:$x56 57:$x57 58:$x58 59:$x59"
alias echo_tecken60         "echo 60:$x60 61:$x61 62:$x62 63:$x63 64:$x64 65:$x65 66:$x66 67:$x67 68:$x68 69:$x69"
alias echo_tecken70         "echo 70:$x70 71:$x71 72:$x72 73:$x73 74:$x74 75:$x75 76:$x76 77:$x77 78:$x78 79:$x79"
alias echo_tecken80         "echo 80:$x80 81:$x81 82:$x82 83:$x83 84:$x84 85:$x85 86:$x86 87:$x87 88:$x88 89:$x89"
alias echo_tecken90         "echo 90:$x90 91:$x91 92:$x92 93:$x93 94:$x94 95:$x95 96:$x96 97:$x97 98:$x98 99:$x99"
alias echo_tecken           "echo_tecken50; echo_tecken60; echo_tecken70; echo_tecken80; echo_tecken90"


// Bind Aliases
////////////////////////////////////////////////////////////////////////////////////////////////////
alias stp_aol               "if ($health > 0) then %1 %2 %3 %4 %5 else stp_lost"

alias stp_version           ".tsay.version"
alias stp_report            ".stp.report; wait; .tsay.report" 
alias stp_point             ".stp.point" 
alias stp_took              ".stp.took" 
alias stp_killme            "impulse 7 8 6 5 4 3 2; wait; .stp.killme; wait; .tsay.killme" 
alias stp_lost              ".stp.lost" 
alias stp_dropped           ".stp.lost.pack" 
alias stp_safe              ".stp.check.weapons; wait; .tsay.safe" 
alias stp_powerup           ".stp.team.powerup" 
alias stp_smart             ".stp.check.all; wait; .stp.smart" 

alias stp_help              ".tsay.help" 
alias stp_replace           ".stp.check.weapons; wait; .tsay.replace" 
alias stp_coming            ".stp.check.all; wait; .tsay.coming" 
alias stp_status            ".tsay.status" 
alias stp_wpkilled          ".stp.wpkilled; wait; .tsay.weapon.killed" 
alias stp_youtake           ".stp.youtake; wait; .tsay.you.take" 

alias stp_enemy_quad        ".tsay.enemy.quad"
alias stp_enemy_pent        ".tsay.enemy.pent"
alias stp_enemy_ring        ".tsay.enemy.ring" 
alias stp_get_quad          ".tsay.get.quad" 
alias stp_get_pent          ".tsay.get.pent"


////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                //
//                                   S U D D E N _ T E A M P L A Y                                //
// For all available binds check:                                                                 //
// https://github.com/Suddendeath-qw/suddenQuake#teamplay---suddenteamplaycfg                     //
//                                                                                                //
// stp_style 1 - sd_tac.cfg faithful with improvements (default)                                  //
// stp_style 2 - 2022 New colorways (use nick without colors)                                     //
////////////////////////////////////////////////////////////////////////////////////////////////////

// MUST
bind ? "stp_aol stp_report"
bind ? "stp_killme" // stp_aol can not be used with this
bind ? "stp_took"
bind ? "stp_lost"
bind ? "stp_aol stp_safe"
bind ? "stp_smart"
bind ? "stp_point"

// SHOULD
bind ? "stp_powerup"

// OPTIONAL
bind ? "stp_dropped"
bind ? "stp_aol stp_help"
bind ? "stp_aol stp_replace"
bind ? "stp_status"
bind ? "stp_wpkilled"
bind ? "stp_youtake"
bind ? "stp_enemy_quad"
bind ? "stp_enemy_pent"
bind ? "stp_enemy_ring"
bind ? "stp_get_quad"
bind ? "stp_get_pent"
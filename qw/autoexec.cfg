unalias_re ^\_\.(.+)$
unset_re ^\_\.(.+)$

exec frogbot // from frogbot.pk3
spectator 0 // Ensure not in spectator mode

////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                //
//                                          P R O F I L E                                         //
//                                                                                                //
////////////////////////////////////////////////////////////////////////////////////////////////////

alias showprofile "echo;echo name: $name; echo nick: $nick; echo team: $team; echo color: $topcolor $bottomcolor; echo skin: $skin;echo"

// Authentication
cl_username "rio"
//alias on_enter "authenticate"

// Defaults
name "rio"
team "^-s^-"
color 0 12
set nick "{&cf13rio:&r}"
skin "base"

// 4on4
alias team_s1   "name $name; team ^-s^-; color 0 12; skin $skin; nick $nick; showprofile"
alias team_s2   "name $name; team ^=s^=; color 0 12; skin $skin; nick $nick; showprofile"
alias team_swe  "name $name; team swe; color 12 13; skin $skin; nick $nick; showprofile"
alias team_biz  "name $name; team biz; color 0 16; skin $skin; nick $nick; showprofile"
alias fakenick  "name %1; team $qt$qt; color 0 0; set nick %1; skin %1; showprofile"


////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                //
//                                      S E T T I N G S                                           //
//                                                                                                //
////////////////////////////////////////////////////////////////////////////////////////////////////

in_builtinkeymap    "0" // 0 = use Windows(OS) keyboard layout, 1 = use quake keyboard
cl_onload           "console" // Show console on load
cl_pext_floatcoords "1"
cl_staticSounds     "0"
scr_newhud          "1"
b_switch            "2" // Auto weapon switch backpack (1 = axe, 2 = sg, "" = off)
w_switch            "2" // Auto weapon switch (1 = axe, 2 = sg, "" = off)
cl_physfps          "77" // Physics framerate (same as server fps)
cl_deadbodyFilter   "2" // 2 = instant removal of dead bodies
hud_performance_average "0" // Ensure performance hud shows current fps, not average
cl_bobcycle         "0" // Everyone hates bob
cl_bobup            "0" // Everyone hates bob
cfg_backup          "1" // Enable config backup on exit

////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                //
//                                  M I S C .   A L I A S E S                                     //
//                                                                                                //
////////////////////////////////////////////////////////////////////////////////////////////////////

// List files
alias listskins               "fs_dir skins * hideext hidesize hidedir"
alias listcrosshairs          "fs_dir crosshairs * hideext hidesize hidedir"
alias listconfigs             "fs_dir configs * hidesize hidedir"

// Colors
alias _.rgbw "255 255 255"
alias _.rgbc "0 255 255"


// Download .loc files for the current map from the server if it exists, and then load them.
alias locdl "download locs/$mapname.loc; wait; wait; wait; loadloc $mapname"

// Cointoss - choose which team starts to pick map
alias cointoss "cmd rnd $qt$team1$qt $qt$team2$qt"

// rnd alias - useful for generating random numbers
set _.intmax "10000000"
set_tp _.r 0
set_tp _.r2 0
alias _.rnd "set_calc _.r $rand * %1; _.r.ro"
alias _.r.app "set %1 $%1%2"
alias _.r.ro "set_calc _.r2 $_.r + $_.intmax; set_calc _.r2 $_.r2 - $_.intmax; _.r.fl"
alias _.r.fl "if ($_.r2 > $_.r) then set_calc _.r $_.r2 - 1 else set _.r $_.r2"
alias _.r.clr "_.rnd 999; wait; if ($_.r < 10) then _.r.app %1 {&c00$_.r%2&r} else if ($_.r < 100) then _.r.app %1 {&c0$_.r%2&r} else _.r.app %1 {&c$_.r%2&r}"

// Crosshair color (r - Red, g - Green, b - Blue, c- Cyan, m - Magenta, y - Yellow, k - Black, w - white)
alias xhair "set xhairc %1; _.xhair_$xhairc"
alias _.xhair_w "crosshaircolor 255 255 255"
alias _.xhair_c "crosshaircolor 0 255 255"
alias _.xhair_m "crosshaircolor 255 0 255"
alias _.xhair_y "crosshaircolor 255 255 0"
alias _.xhair_k "crosshaircolor 0 0 0"
alias _.xhair_r "crosshaircolor 255 0 0"
alias _.xhair_g "crosshaircolor 0 255 0"
alias _.xhair_b "crosshaircolor 0 0 255"

// Toggle Lego-quake texture mode
alias _.lego1 "gl_texturemode gl_nearest; gl_picmip 1; gl_max_size 16; gl_miptexlevel 3"
alias _.lego0 "gl_texturemode gl_linear_mipmap_linear;gl_picmip 0; gl_max_size 32768; gl_mipTexLevel 0"
alias lego "if (%1 > 0) then _.lego1 else _.lego0"

// Combined netgraph and scores
alias +net_scores "show netgraph; +showscores"
alias -net_scores "hide netgraph; -showscores"

////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                //        
//                                      V O L U M E                                               //
//                                                                                                //
////////////////////////////////////////////////////////////////////////////////////////////////////

unset_re ^vol\.(.+)$
unalias_re ^vol\.(.+)$

set vol.min 0
set vol.max 0.2
set vol.step 0.02
set vol.now 0
set vol.temp 0
set vol.save 0
set vol.str ""
set vol.n 0

alias vol_clamp "if ($%1 < %2) then set %1 %2 else if ($%1 > %3) then set %1 %3"
alias vol "set vol.temp %1; vol_clamp vol.temp $vol.min $vol.max; wait; set vol.now $vol.temp; volume $vol.temp; vol.print"
alias vol- "set vol.temp $vol.now; inc vol.temp -$vol.step; vol $vol.temp"
alias vol+ "set vol.temp $vol.now; inc vol.temp +$vol.step; vol $vol.temp"
alias volm "if ($vol.now > 0 && $volume > 0) then volm1 else volm2"
alias volm1 "set vol.save $vol.now; vol 0;wait;wait; set vol.now $vol.save; set vol.save 0"
alias volm2 "if ($vol.now == 0) then set vol.now $vol.step; vol $vol.now; set vol.save 0"

// "$x80 ("
// "$x81 ==="
// "$x82 )"
// "$x83 =*="
alias vol.app "set vol.str $vol.str%1"
alias vol.print "set vol.str $qt$qt; set vol.n 0; vol.print0"
alias vol.print0 "vol.app vol$x20$x80; vol.print1"
alias vol.print1 "inc vol.n +$vol.step; if ($vol.n > $vol.max) then vol.print2 else if ($vol.n == $vol.now) then vol.print1a else vol.print1b"
alias vol.print1a "vol.app $x83; vol.print1"
alias vol.print1b "vol.app $x81; vol.print1"
alias vol.print2 "vol.app $x82$x20; if ($vol.now == 0) then vol.app m else vol.app $vol.now; if ($vol.now == 0) then set vol.str &c855$vol.str; echo $vol.str"

vol 0.1


////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                //
//                                  BASIC WEAPON SCRIPT USING IMPULSE                             //
//                                   (BECAUSE IT ALSO WORKS IN CTF)                               //
//                                                                                                //
////////////////////////////////////////////////////////////////////////////////////////////////////

/// Weapon Priority
alias _.wp  ""
alias _.wp1 "impulse 1"             // AXE
alias _.wp2 "impulse 2 1"           // SG, AXE
alias _.wp3 "impulse 3 2 1"         // SSG, SG, AXE
alias _.wp4 "impulse 4 5 3 2 1"     // NG, SNG, SSG, SG, AXE
alias _.wp5 "impulse 5 4 3 2 1"     // SNG, NG, SSG, SG, AXE
alias _.wp6 "impulse 6 5 3 4 2 1"   // GL, SNG, SSG, NG, SG, AXE
alias _.wp7 "impulse 7 5 3 4 2 1"   // RL, SNG, SSG, NG, SG, AXE
alias _.wp8 "impulse 8 5 3 4 2 1"   // LG, SNG, SSG, NG, SG, AXE
alias _.wp9 "impulse 22"            // HOOK
alias _.wp0 "_.wp2"                 // Default setting

alias +fire_axe "_.wp1; +attack"
alias -fire_axe "-attack; _.wp2"
alias +fire_sg "_.wp2; +attack"
alias -fire_sg "-attack; _.wp2"
alias +fire_ssg "_.wp3; +attack"
alias -fire_ssg "-attack; _.wp2"
alias +fire_ng "_.wp4; +attack"
alias -fire_ng "-attack; _.wp2"
alias +fire_sng "_.wp5; +attack"
alias -fire_sng "-attack; _.wp2"
alias +fire_gl "_.wp6; +attack"
alias -fire_gl "-attack; _.wp2"
alias +fire_rl "_.wp7; +attack"
alias -fire_rl "-attack; _.wp2"
alias +fire_lg "_.wp8; +attack"
alias -fire_lg "-attack; _.wp2"
alias +fire_hk "_.wp9; +attack"
alias -fire_hk "-attack; _.wp2"
 
// Fire selected weapon
alias +select_fire "_.wp0; +attack"
alias -select_fire "-attack; _.wp2"

// Update HUD based on selected weapon
alias _.wp.hud "hud_ammo1_item_opacity 0.5; hud_ammo2_item_opacity 0.5; hud_ammo4_item_opacity 0.5; hud_ammo%1_item_opacity 1"

                               
alias select_axe    "alias _.wp0 _.wp1; _.wp.hud 1"
alias select_sg     "alias _.wp0 _.wp2; _.wp.hud 1"
alias select_ssg    "alias _.wp0 _.wp3; _.wp.hud 1"
alias select_ng     "alias _.wp0 _.wp4; _.wp.hud 2"
alias select_sng    "alias _.wp0 _.wp5; _.wp.hud 2"
alias select_gl     "alias _.wp0 _.wp6; _.wp.hud 3"
alias select_rl     "alias _.wp0 _.wp7; _.wp.hud 3"
alias select_lg     "alias _.wp0 _.wp8; _.wp.hud 4"
alias select_hook   "alias _.wp0 _.wp9; _.wp.hud 1"

alias +rljump   "+fire_rl;+jump"
alias -rljump   "-fire_rl;-jump"


////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                //
//                                    K E Y   B I N D I N G S                                     //
//                                                                                                //
////////////////////////////////////////////////////////////////////////////////////////////////////

bind TAB "+net_scores"
bind F8  "vol-"
bind F9  "vol+"
bind F10 "volm"

// Basic Movement
////////////////////////////////////////////////////////////////////////////////////////////////////

bind w "+forward"
bind a "+moveleft"
bind s "+back"
bind d "+moveright"
bind space "+jump"

// Weapons
////////////////////////////////////////////////////////////////////////////////////////////////////

// Fire button for select fire
bind mouse1 "+select_fire"

bind x "+fire_axe"         // fire AXE    (AXE)
bind c "+fire_sg"          // fire SG     (SG, AXE)
bind CTRL "+fire_ssg"      // fire SSG    (SSG, SG, AXE)
//bind x "+fire_sng"       // fire SNG    (SNG,NG, SSG, SG, AXE)
bind ALT "+fire_gl"        // fire GL     (GL, SNG, SSG, NG, SG, AXE)
bind mouse2 "+fire_rl"     // fire RL     (RL, SNG, SSG, NG, SG, AXE)
//bind x "+fire_lg"        // fire LG     (LG, SNG, SSG, NG, SG, AXE)
bind mouse4 "+fire_hook"

//bind 1 "select_axe"       // select AXE    (AXE)
//bind 2 "select_sg"        // select SG     (SG, AXE)
bind r "select_ssg"         // select SSG    (SSG, SG, AXE)
//bind 4 "select_ng"        // select NG     (NG, SNG, SSG, SG, AXE)
bind q "select_sng"         // select SNG    (SNG, NG, SSG, SG, AXE)
//bind 6 "select_gl"        // select GL     (GL, SNG, SSG, NG, SG, AXE)
//bind 7 "select_rl"        // select RL     (RL, SNG, SSG, NG, SG, AXE)
bind e "select_lg"          // select LG     (LG, SNG, SSG, NG, SG, AXE)
bind f "select_hook"        // select HOOK   (HOOK, AXE)

// Rocket-jump (just a simple fire rocket + jump bind)
bind v "+rljump"

////////////////////////////////////////////////////////////////////////////////////////////////////


exec settings.cfg
exec sudden.cfg
clear
echo ""
echo ""
echo ""
echo "choose profile:"
echo ""
echo "&cf19/team_*&r"
echo ""
echo ""
echo "current profile:"
echo ""
showprofile
echo ""
echo ""
echo ""
echo ""
echo ""
echo ""
echo ""
echo ""
echo ""
echo ""
echo ""
echo ""
